<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Display Techniques for EPUB Accessibility Metadata 2.0</title>
		<script src="https://www.w3.org/Tools/respec/respec-w3c" class="remove" defer="defer"></script>
		<script class="remove">
			// <![CDATA[
			var respecConfig = {
				group: "publishingcg",
				specStatus: "CG-DRAFT",
				noRecTrack: true,
				latestVersion: "https://www.w3.org/publishing/a11y/UX-Guide-metadata/techniques/epub-metadata/",
				edDraftURI: "https://w3c.github.io/publ-a11y/UX-Guide-Metadata/draft/techniques/epub-metadata/",
				canonicalURI: "https://www.w3.org/publishing/a11y/UX-Guide-metadata/techniques/epub-metadata/",
				editors: [
					{
						"name": "Charles LaPierre",
						"company": "Benetech",
						"companyURL": "http://www.benetech.org",
						"w3cid": 72055
					}
				],
				processVersion: 2020,
				includePermalinks: false,
				permalinkEdge:     true,
				permalinkHide:     false,
				diffTool:          "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
				github:			 {
					repoURL: "https://github.com/w3c/publ-a11y/",
					branch: "main"
				}
			};
			// ]]>
	  </script>
		  <style>
	  	var {
			color: brown;
		}
	  	ol.condition > li {
	  		margin-top: 1rem;
	  		margin-left: 0;
	  		padding-left: 0;
	  	}
	  	ol.condition > li > span {
	  		display: block;
	  	}
	  	ol.condition > li > span:nth-child(2) {
	  		margin-left: 2rem;
	  	}
	  	code.xpath {
	  		word-break: keep-all;
	  	}
	  	code[id]::before, code[id]::after {
			background: #faa;
			border-radius: 3px;
			font: normal normal 400 1em/1.2 monospace;
			margin-left: 0.2em;
			padding: 0.1em;
		}
              code[id]::after {
                  content: "[ID: " attr(id) "]";
                  /*html::before { content: "<html>"; } */
              }
	  </style>
	</head>
	<body>
		<section id="abstract"></section>
        <section id="sotd"></section>
        <section id="epub-accessibility-metadata">
            <h2>EPUB Accessibility Metadata</h2>
            
            <p>This metadata as outlined in the <a href="https://www.w3.org/TR/epub-a11y-11/">1.1 Accessibility Specification
                Conformance and Discoverability</a> can be found in the <a href="https://www.w3.org/TR/epub-33/#sec-package-doc">EPUB Package Document</a></p>
			
            <aside class="note">
                Other techniques for implementing EPUB accessibility metadata are available: <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#techniques">Display Techniques for Displaying Accessibility Metadata</a>
            </aside>
            
 			<aside class="note">
 			    This document provides techniques for meeting the guidelines of the <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/">User Experience Guide for Displaying Accessibility Metadata</a>. It provides practical examples for extracting information from the EPUB's OPF metadata for showing it to the end users.
			 </aside>
                    
            <section id="epub-a11y-metadata-examples">
                <h3>EPUB Accessibility Metadata Examples</h3>
				<section id="epub-a11y-metadata-describing-an-epub">
				    <h4>EPUB accessibility metadata describing an EPUB</h4>
				    <p>Here is an example of accessibility metadata embedded within the OPF file, 
                        which will be used as a reference point for the
                        following examples on EPUB accessibility metadata: the results of the XPath shown are based on
				        this example.
                    </p>
				    <aside class="example" id="epub-a11y-metadata-example-1">
                        <pre><code class="xpath">TBD</code></pre>
                    </aside>
				</section>
				<section>
				    <h4 id="epub-a11y-metadata-describing-an-full-audio-book">EPUB accessibility metadata describing an audiobook</h4>

                <p>Here is an example of an accessibility OPF Metadata for describing an audiobook, which will be used as a reference point for the following examples on EPUB accessibility metadata: the results of the XPath shown are based on this example.</p>
				        <aside class="example" id="epub-a11y-metadata-example-2">
                            <pre><code class="xpath">TBD</code></pre>
				        </aside>
				</section>
            </section>
        </section>
        
		<section id="conventions">
			<h2>Conventions for implementations</h2>
			<p>The code conventions used in the provided code snippet follow a structure commonly found in programming languages like Python, Java, or C++. Here&#39;s an explanation of the conventions:</p>
			<dl>
				<dt>Conditionals and Control Flow:</dt>
					<dd><b>IF</b>, <b>ELSE IF</b>, and <b>ELSE</b> (in bold and capital letters) statements are used to define different conditions and the corresponding actions to be taken.</dd>
				<dt>Operators:</dt>
					<dd>Written operators (<i>is present</i>) are used to check if a particular code or codelist is present (or not) in the metadata record.</dd>
				<dt>Logical operators:</dt>
					<dd>Logical operators (<b>AND</b>, <b>OR</b>, <b>NOT</b>, in bold and capital letters) are used to combine conditions.</dd>
				<dt>String Literals:</dt>
					<dd>String literals are used to represent the text that should be displayed when a particular condition is met.</dd>
				<dt>Variable Naming:</dt>
					<dd>The terms like &quot;property&quot; and &quot;value&quot; are used in a way that suggests a variable or data structure representing the metadata record.</dd>
				<dt>Indentation:</dt>
					<dd>The code uses consistent indentation to define blocks of code within conditional statements. This is crucial for readability and maintaining a clear structure.</dd>
				<dt>Readability:</dt>
					<dd>The code is written in a way that is intended to be easily readable and understandable even by non-coders.</dd>
			</dl>
		</section>
        
		<section id="common-functions">
			<h2>Common Functions</h2>
			<p>In this section we define the functions common to all techniques, which are called by them during execution.</p>
			<section id="pre-processing">
				<h3>Pre Processing</h3>
				<p>Before working directly with the metadata we must read the metadata in the Package document (OPF file) inside the EPUB. This is a common starting point for all techniques that allows us to query the metadata directly.</p>
				<aside class="note">
					<p>This algorithm does not describe how the Package document is discovered and extracted within an EPUB.</p>
				</aside>
				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
				<p>To generate the internal representation, run the following steps:</p>
				<ol class="condition">
					<li><b>LET</b> <var>package_document_content</var> be textual representation of the Package document for the publication given <var>package_document_as_text</var>.</li>
					<li><b>LET</b> <var>package_document</var> be the DOM tree that results from parsing <var>package_document_content</var> using an XML DOM parser.</li>
					<li>Return <var>package_document</var>.</li>
				</ol>
			</section>
            
     		<section id="check-for-node">
				<h3>Check for Node</h3>
				<p>Many of the techniques rely on checking for the presence or absence of metadata in the metadata section of the Package document.</p>

                <aside class="note">
                    <p>All XPATHs are made for EPUB 3, while for EPUB 2 they would need to be adjusted.</p>
                </aside>

				<p>This algorithm takes:</p>
				<ul>
					<li>the <var>package_document</var> argument: the internal representation of the Package document (output of <a href="#pre-processing">pre processing</a>);</li>
					<li>the <var>path</var> argument: the XPATH of the node to check the presence of.</li>
				</ul>
				<p>To check for node, run the following steps:</p>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>package_document</var> contains <var>path</var>:</span>
						<span><b>THEN</b> return <code>True</code>.</span>
					</li>
					<li><b>ELSE</b> return <code>False</code>.</li>
				</ol>
			</section>

        </section>
        
		<section id="techniques">
			<h2>Techniques</h2>

			<section id="visual-adjustments">
				<!-- https://www.w3.org/TR/pub-manifest/#manifest-processing -->
				<h3>Visual adjustments</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#visual-adjustments">Visual adjustments key information</a>.</p>
				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>


                <h4>Understanding the variables</h4>
				<dl>
                    <dt><var>all_textual_content_can_be_modified</var></dt>
                    <dd>
                        <p>If true it indicates that the <i>accessibilityFeature="displayTransformability"</i> (All textual content can be modified) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
                        <p><i>All textual content can be modified</i> means that the digital publication does not restrict the ability of users to modify and reflow the display of any textual content to the full extent allowed by the reading system (i.e. to change the text size or typeface, line height and word spacing, colors).</p>
                    </dd>
					<dt><var>is_fixed_layout</var></dt>
					<dd>
						<p>If true it indicates that the <i>layout="pre-paginated"</i> (Fixed format) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p><i>Fixed format</i> means that digital publication is in fixed format (e.g. EPUB Fixed Layout).</p>
					</dd>
				</dl>

                <h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                    
                    <li><b>LET</b> <var>all_textual_content_can_be_modified</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>displayTransformability</i>"]</code>.</li>

                    <li><b>LET</b> <var>is_fixed_layout</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="rendition:<i>layout</i>" and text()="<i>pre-paginated</i>"]</code>.</li>
                
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>all_textual_content_can_be_modified</var>:</span>
						<span><b>THEN</b> display "<code id="visual-adjustments-1">Appearance can be modified"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>is_fixed_layout</var>:</span>
						<span><b>THEN</b> display <code id="visual-adjustments-2">"Appearance cannot be modified"</code>.</span>
					</li>
					<li><b>ELSE</b> display <code id="visual-adjustments-3">"Appearance modifiability not known"</code>.</li>
				</ol>
			</section>
	            
			<section id="supports-nonvisual-reading">
				<h3>Supports nonvisual reading</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#supports-nonvisual-reading">Supports nonvisual reading key information</a>.</p>
				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>all_necessary_content_textual</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessModeSufficient="textual"</i> (all main content is provided in textual form) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p><i>All non-decorative content supports reading without sight</i> means that all contents of the digital publication necessary to use and understanding, including text, images (via their alternative descriptions), audio and video material (via their transcripts, descriptions, captions or subtitles) are fully accessible via suitable reading devices, for example text-to-speech screen readers or tactile reading devices (‘Braille displays’), and nothing in the digital publication prevents or blocks the use of alternative reading modes. The entire publication can be navigated and ‘read’ using only text rendered via sound or touch, and does not require visual perception.</p>
					</dd>
					<dt><var>non_textual_content_images</var></dt>
					<dd>
						<p>If true it indicates that at least one of the following is present in the OPF file:</p>
						<ul>
							<li><i>accessMode="chartOnVisual"</i> (Charts and Graphs);</li>
							<li><i>accessMode="chemOnVisual"</i> (Chemistry);</li>
							<li><i>accessMode="diagramOnVisual"</i> (Diagrams);</li>
							<li><i>accessMode="mathOnVisual"</i> (Math);</li>
							<li><i>accessMode="musicOnVisual"</i> (Music);</li>
							<li><i>accessMode="textOnVisual"</i> (Images of text);</li>
							<li>otherwise if false it means that this metadata is not present.</li>
						</ul>
						<p>This means that the content contains images of any type.</p>
					</dd>
					<dt><var>textual_alternative_images</var></dt>
					<dd>
						<p>If true it indicates that at least one of the following is present in the OPF file:</p>
						<ul>
							<li><i>accessibilityFeature="alternativeText"</i> (Short alternative textual descriptions);</li>
							<li><i>accessibilityFeature="longDescription"</i> (Full alternative textual descriptions);</li>
							<li><i>accessibilityFeature="describedMath"</i> (Visual of math fully described));</li>
							<li>otherwise if false it means that this metadata is not present.</li>
						</ul>
						<p>This means that there are textual alternatives for images.</p>
					</dd>
				</dl>
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>

					<li><b>LET</b> <var>all_necessary_content_textual</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessModeSufficient</i>" and text()="<i>textual</i>"]</code>.</li>
					<li>
						<b>LET</b> <var>non_textual_content_images</var> be the result of calling <a href="#check-for-node">check for node</a> on 
                        <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="<i>schema:accessibilityFeature</i>" and <br/>(text()="<i>chartOnVisual</i>" or text()="<i>chemOnVisual</i>" or <br/>
                         text()="<i>diagramOnVisual"</i> or text()="<i>mathOnVisual</i>" or <br/>
                         text()="<i>musicOnVisual"</i> or text()="<i>textOnVisual</i>")]</code>.
					</li>
                    
                    <li><b>LET</b> <var>textual_alternative_images</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="<i>schema:accessibilityFeature</i>" and <br/>(text()="<i>longDescription</i>" or text()="<i>alternativeText</i>" or text()="<i>describedMath"</i>)]</code>.
                    
					</li>
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>all_necessary_content_textual</var>:</span>
						<span><b>THEN</b> display <code id="nonvisual-reading-readable">"Readable in read aloud and braille"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>non_textual_content_images</var> <b>AND</b> <b>NOT</b> <var>textual_alternative_images</var>:</span>
						<span><b>THEN</b> display <code id="nonvisual-reading-not-fully">"Not fully readable in read aloud and braille"</code>.</span>
					</li>
					<li><b>ELSE</b> display <code id="nonvisual-reading-may-not-fully">"May not be fully readable in read aloud and braille"</code>.</li>
				</ol>


			</section>
			
			
			<section id="conformance-group">
				<h3>Conformance</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#conformance-group">Conformance key information</a>.</p>

				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
                 
				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>epub_accessibility_1_0</var></dt>
					<dd>
                        <p>If true it indicates that the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-a"</i> (EPUB Accessibility Specification 1.0 A) or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aa"</i> (EPUB Accessibility Specification 1.0 AA) or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aaa"</i> (EPUB Accessibility Specification 1.0 AAA) or the <i>conformsTo</i> contains "EPUB Accessibility 1.0" is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with either the requirements of EPUB Accessibility Spec 1.0, at level A, AA, or AAA.</p>
					</dd>
					<dt><var>epub_accessibility_1_1</var></dt>
					<dd>
                        <p>If true it indicates that the <i>conformsTo</i> contains "EPUB Accessibility 1.1"  (EPUB Accessibility Specification 1.1) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of EPUB Accessibility Spec 1.1.</p>
					</dd>
					<dt><var>wcag_2_0</var></dt>
					<dd>
                        <p>If true it indicates that the <i>conformsTo</i> contains "WCAG 2.0" or <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-a"</i> (EPUB Accessibility Specification 1.0 A) or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aa"</i> (EPUB Accessibility Specification 1.0 AA) or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aaa"</i> (EPUB Accessibility Specification 1.0 AAA) are present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG version 2.0 or with the requirements of EPUB Accessibility Spec 1.0 (at level A, AA, or AAA). This is because being compliant with EPUB Accessibility 1.0 specification means at least being compliant with WCAG 2.0 specification.</p>
					</dd>
					<dt><var>wcag_2_1</var></dt>
					<dd>
						 <p>If true it indicates that the <i>conformsTo</i> contains "WCAG 2.1" is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG version 2.1.</p>
					</dd>
					<dt><var>wcag_2_2</var></dt>
					<dd>
				        <p>If true it indicates that the <i>conformsTo</i> contains "WCAG 2.2" is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG version 2.2.</p>
					</dd>
					<dt><var>level_a</var></dt>
					<dd>
						<p>If true it indicates that the <i>conformsTo</i> contains "Level A" or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-a"</i> (EPUB Accessibility Specification 1.0 A) are present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG level A or with the requirements of EPUB Accessibility Spec 1.0 level A.</p>
					</dd>
					<dt><var>level_aa</var></dt>
					<dd>
						<p>If true it indicates that the <i>conformsTo</i> contains "Level AA" or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aa"</i> (EPUB Accessibility Specification 1.0 AA) are present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG level AA or with the requirements of EPUB Accessibility Spec 1.0 level AA.</p>
					</dd>
					<dt><var>level_aaa</var></dt>
					<dd>
						<p>If true it indicates that the <i>conformsTo</i> contains "Level AAA" or the <i>conformsTo="http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aaa"</i> (EPUB Accessibility Specification 1.0 A) are present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms with the requirements of WCAG level AAA or with the requirements of EPUB Accessibility Spec 1.0 level AAA.</p>
					</dd>
					<dt><var>certifier</var></dt>
					<dd>
						<p>Returns the description of <i>a11y:certifiedBy</i> (Compliance certification by (name)) if present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the name of the organization responsible for compliance testing and certification of the product is present.</p>
					</dd>
					<dt><var>certifier_credentials</var></dt>
					<dd>
						<p>Returns the description of <i>a11y:certifierCredential</i> (Compliance certification by (URL)) if present in the OPF file, otherwise if false it means that the metadata is not present.</p> 
						<p>This means that the the URL of a web page belonging to an organization responsible for compliance testing and certification of the product is present – typically a ‘home page’ or a page describing the certification scheme itself.</p>
					</dd>
					<dt><var>certification_date</var></dt>
					<dd>
						<p>Returns the description of <i>dcterms:date</i> if that date property is associated with the <i>a11y:certifiedBy</i> (Latest accessibility assessment date) if present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the date of the latest assessment or re-assessment of the accessibility of the product is present.</p>
					</dd>
					<dt><var>certifier_report</var></dt>
					<dd>
						<p>Returns the description of <i>a11y:certifierReport</i> (Compliance web page for detailed accessibility information) if present in the OPF, otherwise if false it means that the metadata is not present.</p>
						<p>This means that is present the URL of a compliance web page for detailed accessibility information. The web page should be maintained by an independent compliance scheme or testing organization. Note the web page may include information about specific national requirements or voluntary conformance reports.</p>
					</dd>
                    <dt><var>conformance-claimed</var></dt>
					<dd>
						<p>If true it indicates that the <i>conformsTo</i> is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication conforms to some specification.</p>
					</dd>

				</dl>
				
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                    
					<li><b>LET</b> <var>epub_accessibility_1_0</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-</i>"]</code>.</li>
                    
                    <li><b>LET</b> <var>epub_accessibility_1_1</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>"EPUB Accessibility 1.1"</i>)]</code>.</li>
                    
					<li><b>LET</b> <var>wcag_2_0</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>"http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-"</i>)]</code> <b>OR</b> calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>"WCAG 2.0"</i>)]</code></li>
                    
                    <li><b>LET</b> <var>wcag_2_1</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>WCAG 2.1"</i>)]</code>.</li>
            
					<li><b>LET</b> <var>wcag_2_2</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>WCAG 2.2"</i>)]</code>.</li>
    
					<li><b>LET</b> <var>level_a</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>Level A"</i>)]</code> <b>OR</b> calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and text()=<i>http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-a</i>"]</code>.</li>
                    
					<li><b>LET</b> <var>level_aa</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>Level AA"</i>)]</code> <b>OR</b> calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and text()=<i>http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aa</i>"]</code>.</li>
                    
                    <li><b>LET</b> <var>level_aaa</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and contains(text(), <i>Level AAA"</i>)]</code> <b>OR</b> calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>" and text()=<i>http://www.idpf.org/epub/a11y/accessibility-20170105.html#wcag-aaa</i>"]</code>.</li>
                    
					
                    <li><b>LET</b> <var>certifier</var> be the value of the node extracted from <var>package_document</var>, using the xpath <code class="xpath">/package/metadata/meta[@property="a11y:<i>certifiedBy</i>"]/text()</code>.</li>
					
                    <li><b>LET</b> <var>certifier_credentials</var> be the value of the node extracted from <var>package_document</var>, using the xpath <code class="xpath">/package/metadata/meta[@property="a11y:<i>certifierCredential</i>"]/text()</code>.</li>
					
                    <li><b>LET</b> <var>certification_date</var> be the value of the node extracted from <var>package_document</var>, using the xpath <code class="xpath">/package/metadata/meta[@property="dcterms:date" and @refines=//meta[@property="a11y:certifiedBy"]/@id]/text()]</code>.</li>
					
                    <li><b>LET</b> <var>certifier_report</var> be the value of the node extracted from <var>package_document</var>, using the xpath <code class="xpath">/package/metadata/meta[@property="a11y:<i>certifierReport</i>"]/text()]</code>.</li>
                    
                    <li><b>LET</b> <var>conformance_claimed</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="dcterms:<i>conformsTo</i>"]</code>.</li>
				</ol>
				
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>level_aaa</var>:</span>
						<span><b>THEN</b> display <code id="conformance-aaa">"This publication exceeds accepted accessibility standards"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>level_aa</var>:</span>
						<span><b>THEN</b> display <code id="conformance-aa">"This publication meets accepted accessibility standards"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>level_a</var>:</span>
						<span><b>THEN</b> display <code id="conformance-a">"This publication meets minimum accessibility standards"</code>.</span>
					</li>
                    <li>
  						<span><b>ELSE IF</b> <var>conformance_claimed</var>:</span>
						<span><b>THEN</b> display <code id="unknown-conformance">"Conformance to accepted standards for accessibility of this publication cannot be determined"</code>.</span>
                      
                    </li>
					<li>
						<span><b>ELSE</b>:</span>
						<span><b>THEN</b> display <code id="conformance-no">"The publication does not include a conformance statement"</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>certifier</var> is <b>NOT</b> empty:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-certifier">"This publication is certified by "</code></li>
							<li>display <var>certifier</var>.</li>
						</ul>
					</li>
					<li>
						<span><b>IF</b> <var>certifier_credentials</var> is <b>NOT</b> empty:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-certifier-credentials">"The certifier's credential is "</code></li>
							<li>display <var>certifier_credentials</var> as link <b>IF</b> <var>certifier_credentials</var> is an URL.</li>
						</ul>
					</li>
					<li>
						<span>display <code id="conformance-details">"Detailed Conformance Information"</code> as heading.</span>
					</li>
					<li>
						<span><b>IF</b> <var>epub_accessibility_1_0</var> <b>OR</b> <var>epub_accessibility_1_1</var> <b>OR</b> <var>wcag_2_0</var> <b>OR</b> <var>wcag_2_1</var> <b>OR</b> <var>wcag_2_2</var> <b>OR</b> <var>level_aaa</var> <b>OR</b> <var>level_aa</var> <b>OR</b> <var>level_a</var>:</span>
						<span><b>THEN</b> display <code id="conformance-claim">"This publication claims to meet "</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>epub_accessibility_1_0</var>:</span>
						<span><b>THEN</b> display <code id="conformance-epub-accessibility-1-0">" EPUB Accessibility 1.0 "</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>epub_accessibility_1_1</var>:</span>
						<span><b>THEN</b> display <code id="conformance-epub-accessibility-1-1">" EPUB Accessibility 1.1 "</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>wcag_2_2</var>:</span>
						<span><b>THEN</b> display <code id="conformance-wcag-2-2">" WCAG 2.2 "</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>wcag_2_1</var>:</span>
						<span><b>THEN</b> display <code id="conformance-wcag-2-1">" WCAG 2.1 "</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>wcag_2_0</var>:</span>
						<span><b>THEN</b> display <code id="conformance-wcag-2-0">" WCAG 2.0 "</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>level_aaa</var>:</span>
						<span><b>THEN</b> display <code id="conformance-level-aaa">" Level AAA"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>level_aa</var>:</span>
						<span><b>THEN</b> display <code id="conformance-level-aa">" Level AA"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>level_a</var>:</span>
						<span><b>THEN</b> display <code id="conformance-level-a">" Level A"</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>certification_date</var> <b>OR</b> <var>certifier</var> <b>OR</b> <var>certifier_credentials</var>:</span>
						<span><b>THEN</b> display <code id="conformance-certification-info">"The publication was certified "</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>certification_date</var>:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-ceertification-date-prefix">" on "</code></li>
							<li>display <var>certification_date</var>.</li>
						</ul>
					</li>
					<li>
						<span><b>IF</b> <var>certifier</var>:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-certifier-prefix">" by "</code></li>
							<li>display <var>certifier</var>.</li>
						</ul>
					</li>
					<li>
						<span><b>IF</b> <var>certifier_credentials</var>:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-certifier-credentials-prefix">" with a credential of "</code></li>
							<li>display <var>certifier_credentials</var> as link <b>IF</b> <var>certifier_credentials</var> is an URL.</li>
						</ul>
					</li>
					<li>
						<span><b>IF</b> <var>certifier_report</var>:</span>
						<span><b>THEN</b></span>
						<ul class="condition">
							<li>display <code id="conformance-certifier-report">"For more information refer to the certifier's report."</code></li>
							<li>with <var>certifier_report</var> as link.</li>
						</ul>
					</li>
				</ol>
                
			</section>
			
		
			<section id="pre-recorded-audio">
				<h3>Pre-recorded audio</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#pre-recorded-audio">Pre-recorded audio key information</a>.</p>
                
                <p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>

				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>all_content_audio</var></dt>
				        <p>If true it indicates that the <i>accessModeSufficient="auditory"</i> (all main content is provided in audio form) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>

                    <dt><var>synchronised_pre_recorded_audio</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="sychronizedAudioText"</i> is present in the OPF file, otherwise, if false, it means that the metadata is not present.</p>
						<p>This indicates that text-synchronised pre-recorded audio narration (natural or synthesised voice) is included for substantially all textual matter, including all alternative descriptions, e.g. via a SMIL media overlay.</p>
					</dd>
                    
  					<dt><var>audio_content</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessMode="auditory"</i> is present in the OPF file, otherwise, if false, it means that the metadata is not present.</p>

						<p>This indicates that pre-recorded audio content is included as part of the work.</p>
					</dd>
                  
                    
                </dl>
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                    
					<li><b>LET</b> <var>all_content_audio</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessModeSufficient</i>" and text()="<i>auditory</i>"]</code>.</li>
                    
					<li><b>LET</b> <var>synchronised_pre_recorded_audio</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>sychronizedAudioText</i>"]</code>.</li>
                    
					<li><b>LET</b> <var>audio_content</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessMode</i>" and text()="<i>auditory</i>"]</code>.</li>
                    
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>all_content_audio</var>:</span>
						<span><b>THEN</b> display <code id="pre-recorded-audio-only">"Audio only"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>synchronised_pre_recorded_audio</var>:</span>
						<span><b>THEN</b> display <code id="pre-recorded-audio-synchronized">"Synchronized audio and text"</code>.</span>
					</li>					
					<li>
						<span><b>ELSE IF</b> <var>audio_content</var>:</span>
						<span><b>THEN</b> display <code id="pre-recorded-audio-complementary">"Complementary audio and text"</code>.</span>
					</li>		

					<li>
						<b>ELSE</b> display <code id="pre-recorded-audio-no-metadata">"No information about pre-recorded audio"</code>.
						<p class="note">This key information can be hidden if metadata is missing.</p>
					</li>
				</ol>
			</section>

      <section id="navigation">
				<h3>Navigation</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#navigation">Navigation key information</a>.</p>
                <p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>

				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>table_of_contents_navigation</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="tableOfContents"</i> (Table of contents navigation) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
 
						<p>This means that the resource includes a table of contents that provides links to the major sections of the content.</p>
					</dd>
					<dt><var>index_navigation</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="index"</i> (Index navigation) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>

                        <p>This means that there is an index that provides direct (eg hyperlinked) access to uses of the index terms in the document body.</p>
					</dd>
					<dt><var>page_break_markers</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="pageBreakMarkers"</i> (Print-equivalent page numbering) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the publication contains references to the page numbering of an equivalent printed product.</p>
					</dd>
                    <dt><var>page_navigation</var></dt>
                    <dd>
                        <p>If true it indicates that the <i>accessibilityFeature="pageNavigation"</i> (Page Navigation) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
                        <p>This means that the e-publication includes a means of navigating to static page break locations.</p>
                    </dd>
					<dt><var>next_previous_structural_navigation</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="structuralNavigation"</i> (Next / Previous structural navigation) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that all levels of heading and other structural elements of the content are correctly marked up and (if applicable) numbered, to enable fast next heading / previous heading, next chapter / previous chapter navigation without returning to the table of contents.</p>
					</dd>
				</dl>
				<h4>Variables setup</h4>
				<ol class="condition">
                    
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                     
                    <li><b>LET</b> <var>table_of_contents_navigation</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>tableOfContents</i>"]</code>.</li>

                    <li><b>LET</b> <var>index_navigation</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>index</i>"]</code>.</li>

                    <li><b>LET</b> <var>page_break_markers</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>pageBreakMarkers</i>"]</code>.</li>

                    <li><b>LET</b> <var>page_navigation</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>pageNavigation</i>"]</code>.</li>
                    
                    <li><b>LET</b> <var>next_previous_structural_navigation</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>structuralNavigation</i>"]</code>.</li>

  				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>table_of_contents_navigation</var> <b>OR</b> <var>index_navigation</var> <b>OR</b> <var>print_equivalent_page_numbering</var> <b>OR</b> <var>next_previous_structural_navigation</var>:</span>
						<span><b>THEN</b> <b>LET</b> <var>navigation</var> be  an empty array.</span>
						<ol class="condition">
							<li>
								<span><b>IF</b> <var>table_of_contents_navigation</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="navigation-toc">"table of contents"</code> to <var>navigation</var>.</span>
							</li>
							<li>
								<span><b>IF</b> <var>index_navigation</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="navigation-index">"index"</code> to <var>navigation</var>.</span>
							</li>
                            <li>
								<span><b>IF</b> <var>page_break_markers</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="navigation-page-breaks">"page breaks"</code> to <var>navigation</var>.</span>
							</li>
                            <li>
							     <span><b>IF</b> <var>page_navigation</var>:</span>
							     <span><b>THEN</b> <b>APPEND</b> <code id="navigation-page-navigation">"page navigation"</code> to <var>navigation</var>.</span>
                            </li>
 							<li>
								<span><b>IF</b> <var>next_previous_structural_navigation</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="navigation-structural">"structural navigation"</code> to <var>navigation</var>.</span>
							</li>
							<li><b>LET</b> <var>navigation_string</var> be the result of:
								<ul class="condition">
									<li>calling join on <var>navigation</var> with the separator <code>", "</code></li>
									<li>replacing the last occurrence of <code>", "</code> with <code id="join-array-and">" ,and "</code></li>
									<li>concatenating <code id="navigation-intro">"Navigation by "</code> to the beginning of the string.</li>
								</ul>
							</li>
							<li>display <var>navigation_string</var>.</li>
						</ol>
					</li>
					<li>
						<b>ELSE</b> display <code id="navigation-no-metadata">"No information about navigation"</code>.
						<p class="note">This key information can be hidden if metadata is missing.</p>
					</li>
				</ol>
			</section>
                
			<section id="charts-diagrams-and-formulas">
				<h3>Charts, diagrams, and formulas</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#charts-diagrams-and-formulas">Charts, diagrams, and formulas key information</a>.</p>
                
                <p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>contains_charts_diagrams</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="chartOnVisual"</i> (charts encoded in visual form) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>                   
						<p>This means that there is a positive indication that the product has some information conveyed via some form of illustration, such as a graph, a chart, a diagram, a figure, etc).</p>
					</dd>
					<dt><var>long_text_descriptions</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityFeature="longDescriptions"</i> (Full alternative textual description) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that a full alternative textual description has been supplied for all of the graphs, charts, diagrams, or figures necessary to understand the content.</p>
					</dd>
					<dt><var>contains_chemical_formula</var></dt>
					<dd>              
						<p>If true it indicates that the <i>accessibilityFeature="chemOnVisual"</i> (Chemical content) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that the publication contains chemical notations, formulae.</p>
					</dd>
					<dt><var>chemical_formula_as_chemml</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessibilityFeature="ChemML"</i> (Accessible chemistry content as ChemML) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that the chemical formulae are presented using ChemML and works with compatible assistive technology.</p>
					</dd>
					<dt><var>contains_math_formula</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessibilityFeature="describedMath"</i> (Mathematical content) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that the publication contains mathematical notation, equations, formulae.</p>
					</dd>
					<dt><var>math_formula_as_latex</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessibilityFeature="latex"</i> (Accessible math content as LaTeX) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that the chemical formulae are presented using LaTeX and works with compatible assistive technology.</p>
					</dd>
					<dt><var>math_formula_as_mathml</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessibilityFeature="MathML"</i> (Accessible math content as MathML) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that there is a positive indication that all mathematical content is presented using MathML and works with compatible assistive technology.</p>
					</dd>
				</dl>
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                    
                    <li><b>LET</b> <var>contains_charts_diagrams</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>chartOnVisual</i>"]</code>.</li>
					
                    <li><b>LET</b> <var>long_text_descriptions</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>longDescriptions</i>"]</code>.</li>
					
                    <li><b>LET</b> <var>contains_chemical_formula</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>chemOnVisual</i>"]</code>.</li>
					
                    <li><b>LET</b> <var>chemical_formula_as_chemml</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>ChemML</i>"]</code>.</li>
					
                    
	                <li><b>LET</b> <var>contains_math_formula</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>describedMath</i>"]</code>.</li>
				
	                <li><b>LET</b> <var>math_formula_as_latex</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>latex</i>"]</code>.</li>

	                <li><b>LET</b> <var>math_formula_as_mathml</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>MathML</i>"]</code>.</li>
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> (<var>contains_charts_diagrams</var> <b>AND</b> <var>long_text_descriptions</var>):</span>
						<span><b>THEN</b> display <code id="charts-diagrams-formulas-extended">"Charts and diagrams have extended descriptions"</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>chemical_formula_as_chemml</var>:</span>
						<span><b>THEN</b> display <code id="charts-diagrams-formulas-accessible-chemistry">"Accessible chemistry content"</code>.</span>
					</li>
					<li>
						<span><b>IF</b> <var>math_formula_as_latex</var> <b>OR</b> <var>math_formula_as_mathml</var>:</span>
						<span><b>THEN</b> display <code id="charts-diagrams-formulas-accessible-math">"Accessible math content"</code>.</span>
					</li>
					<li>
						<span><b>IF</b> (<var>contains_charts_diagrams</var> <b>OR</b> <var>contains_chemical_formula</var> <b>OR</b> <var>contains_math_formula</var>) <b>AND</b> <b>NOT</b> (<var>long_text_descriptions</var> <b>OR</b> <var>chemical_formula_as_chemml</var> <b>OR</b> <var>math_formula_as_latex</var> <b>OR</b> <var>math_formula_as_mathml</var>):</span>
						<span><b>THEN</b> display <code id="charts-diagrams-formulas-accessible-math">"Accessibility of formulas, charts, and diagrams unknown"</code>.</span>
					</li>
				</ol>

			</section>
			
			<section id="hazards">
				<h3>Hazards</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#hazards">Hazards key information</a>.</p>
				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
        
        <h4>Understanding the variables</h4>
				<dl>
					<dt><var>no_hazards_or_warnings_confirmed</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="none"</i> (no accessibility hazards) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>                        
						<p>This means there is a positive indication in the accessiblity metadata within the EPUB confirming there are no associated hazard warnings with this product.</p>
					</dd>
					<dt><var>flashing_hazard</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="flashing"</i> (WARNING - Flashing hazards) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>                         
						<p>This means that there is a positive indication in the accessiblity metadata within the EPUB confirming that the product has a flashing hazard which must be displayed.</p>
					</dd>
					<dt><var>no_flashing_hazards</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="noFlashingHazard"</i> (No flashing hazard warning necessary) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 
						<p>This means there is a positive indication in the accessiblity metadata within the EPUB confirming there are no flashing hazards associated with this product.</p>
					</dd>
					<dt><var>motion_simulation_hazard</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="motionSimulation"</i> (WARNING - Motion simulation hazard) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 						
						<p>This means that there is a positive indication in the accessiblity metadata within the EPUB confirming that the product has a motion simulation hazard which must be displayed.</p>
					</dd>
					<dt><var>no_motion_hazards</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="noMotionSimulationHazard"</i> (No motion simulation hazard warning necessary) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 		<p>This means there is a positive indication in the accessiblity metadata within the EPUB confirming there are no motion simulation hazards associated with this product.</p>
					</dd>
					<dt><var>sound_hazard</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="Sound"</i> (WARNING - Sound hazard) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 						
 						<p>This means that there is a positive indication in the accessiblity metadata within the EPUB confirming that the product has a sound hazard which must be displayed.</p>
					</dd>
					<dt><var>no_sound_hazards</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="noSoundHazard"</i> (No sound hazard warning necessary) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 						
						<p>This means there is a positive indication in the accessiblity metadata within the EPUB confirming there are no sound hazards associated with this product.</p>
					</dd>
					<dt><var>unknown_if_contains_hazards</var></dt>
					<dd>
                        <p>If true it indicates that the <i>accessibilityHazard="unknown"</i> (unknown hazards) is present in the OPF file, otherwise if false it means that the metadata is not present.</p> 						
						<p>This means that the product has not been assessed for hazards and there is no information about potential hazards.</p>
					</dd>
                    
				</dl>
                
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
                    
                    <li><b>LET</b> <var>no_hazards_or_warnings_confirmed</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>none</i>"]</code>.</li>

                    <li><b>LET</b> <var>flashing_hazard</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>flashing</i>"]</code>.</li>


                    <li><b>LET</b> <var>no_flashing_hazards</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>noFlashingHazard</i>"]</code>.</li>


                    <li><b>LET</b> <var>motion_simulation_hazard</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>motionSimulation</i>"]</code>.</li>


                    <li><b>LET</b> <var>no_motion_hazards</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>noMotionSimulation</i>"]</code>.</li>


                    <li><b>LET</b> <var>sound_hazard</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>sound</i>"]</code>.</li>



                    <li><b>LET</b> <var>no_sound_hazards</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>noSoundHazard</i>"]</code>.</li>


                    <li><b>LET</b> <var>unknown_if_contains_hazards</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityHazard</i>" and text()="<i>unknown</i>"]</code>.</li>
                    
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>no_hazards_or_warnings_confirmed</var> <b>OR</b> (<var>no_flashing_hazards</var> <b>AND</b> <var>no_motion_hazards</var> <b>AND</b> <var>no_sound_hazards</var>):</span>
						<span><b>THEN</b> display <code id="hazards-none">"No hazards"</code>.</span>
					</li>
					<li>
						<span><b>ELSE IF</b> <var>flashing_hazard</var> <b>OR</b> <var>motion_simulation_hazard</var> <b>OR</b> <var>sound_hazard</var>:</span>
						<span><b>THEN</b> <b>LET</b> <var>hazards</var> be  an empty array.</span>
						<ol class="condition">
							<li>
								<span><b>IF</b> <var>flashing_hazard</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="hazards-flashing">"flashing"</code> to <var>hazards</var>.</span>
							</li>
							<li>
								<span><b>IF</b> <var>motion_simulation_hazard</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="hazards-motion">"motion"</code> to <var>hazards</var>.</span>
							</li>
							<li>
								<span><b>IF</b> <var>sound_hazard</var>:</span>
								<span><b>THEN</b> <b>APPEND</b> <code id="hazards-sound">"sound"</code> to <var>hazards</var>.</span>
							</li>
							<li><b>LET</b> <var>hazards_string</var> be the result of:
								<ul class="condition">
									<li>calling join on <var>hazards</var> with the separator <code>", "</code></li>
									<li>making uppercase the first character</li>
									<li>replacing the last occurrence of <code>", "</code> with <code id="join-array-and">" ,and "</code></li>
									<li>concatenating <code id="hazards-plural">" hazards"</code> to the end of the string <b>IF</b> (length of <var>hazards</var>) > 1 <b>ELSE</b> concatenating <code id="hazards-singular">" hazard"</code> to the end of the string.</li>
								</ul>
							</li>
							<li>display <var>hazards_string</var>.</li>
						</ol>
					</li>
                    <li>
						<span><b>ELSE IF</b> <var>unknown_if_contains_hazards</var>:</span>
						<span><b>THEN</b> display <code id="hazards-unknown">"The presence of hazards is unknown"</code>.</span>
                    </li>
					<li>
						<b>ELSE</b> display <code id="hazards-no-metadata">"No information about possible hazards"</code>.
						<p class="note">This key information can be hidden if metadata is missing.</p>
                    </li>
				</ol>
			</section>

            
			<section id="accessibility-summary">
				<h3>Accessibility summary</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#accessibility-summary">Accessibility summary key information</a>.</p>

				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>

				<p class="note">
					Being human-written, the accessibility summary will appear in the original language of the publication. Therefore it is necessary to take care of setting up the correct language tag information.
				</p>

				<p class="note">Accessibility summaries were necessary when no systems exposed computed accessibility metadata. With more systems now displaying this information, much of the accessibility summary may be redundant. Publishers should focus on adding information not provided within the computed metadata, such as specifying where in a video file a flashing hazard exists, or noting the reason why they failed to meet WCAG-AA due to color contrast issues in the Appendix.</p>

				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>accessibility_summary</var></dt>
					<dd>
						<p>If true it indicates that the <i>accessibilitySummary</i> is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means there is a human-written text containing a short explanatory summary of the accessibility of the product or the URL of a web page comprising such a summary. Summarizes the already existent information and may add information that the publisher could not express with the other codes.</p>
					</dd>
					<dt><var>lang_attribute_accessibility_summary</var></dt>
					<dd>
						<p>Returns the lang attribute of the node containing the <var>accessibility_summary</var>, or the lang attribute of the nearest anchestor.</p>
						<p>This is the language code in which the text of the Accessibility summary was written.</p>
					</dd>
					<dt><var>language_of_text</var></dt>
					<dd>
						<p>Returns the value of nearest "language" (Language of content) if present in the OPF File, otherwise if false it means that the metadata is not present.</p>
						<p>This indicates the main language of the content and therefore the most probable language of accessibility summary.</p>
					</dd>
				</dl>
				<h4>Variables setup</h4>
				<ol class="condition">
                    <li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>

                    <li><b>LET</b> <var>accessibility_summary</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilitySummary</i>"]</code>.</li>

                    <li><b>LET</b> <var>lang_attribute_accessibility_summary</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilitySummary</i>"]/(@lang|ancestor::*/@lang)[last()]</code>.</li>

                    <li><b>LET</b> <var>language_of_text</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/dc:language[1]/text()</code>.</li>

 				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
                    <li>
						<span><b>IF</b> <var>lang_attribute_accessibility_summary</var> is <b>NOT</b> empty:</span>
						<span><b>THEN</b> <b>LET</b> <var>language_accessibility_summary</var> be the value of <var>lang_attribute_accessibility_summary</var>.</span>
					</li>
					<li>
						<b>ELSE</b> <b>LET</b> <var>language_accessibility_summary</var> be the value of <var>language_of_text</var>.
					</li>
					<li>
						<span><b>ELSE IF</b> <var>accessibility_summary</var> is <b>NOT</b> empty:</span>
						<span><b>THEN</b> display the content of <var>accessibility_summary</var> with <var>language_accessibility_summary</var> as language.</span></li>
					<li>
						<b>ELSE</b> display <code id="accessibility-summary-no-metadata">"No accessibility summary"</code>.
						<p class="note">This key information can be hidden if metadata is missing.</p>
					</li>
				</ol>
			</section>

            <section id="legal-considerations">
				<h3>Legal considerations</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#legal-considerations">Legal considerations key information</a>.</p>
				<div class="note">
					<p>We are actively seeking comments on this "legal consideration" section. If you are a publisher, we want your feedback! Please visit the GitHub Issue tracking to leave a comment  in the existing  issue at: <div class="issue" data-number="350"></div></p>
				</div>
				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>
            
				<h4>Understanding the variables</h4>
				<dl>
					<dt><var>eaa_exemption_micro_enterprises</var></dt>
					<dd>
						<p>If true it indicates that the <i><a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-property">a11y:exemption</a>="<a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-values">eaa-microenterprise</a>"</i> (EEA exception 1 – Micro-enterprises) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the digital product falls under European Accessibility Act exemption for Micro-enterprises (as defined by current regulations). The product may not have to comply with requirements of the EAA if the publisher is a micro-enterprise.</p>
					</dd>
					<dt><var>eaa_exception_disproportionate_burden</var></dt>
					<dd>
						<p>If true it indicates that the <i><a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-property">a11y:exemption</a>="<a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-values">eaa_disproportionate_burden</a>"</i> (EAA exception 2 – Disproportionate burden) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the digital product falls under European Accessibility Act exception for Disproportionate burden (as defined by current regulations). The product may not have to comply with requirements of the EAA if doing so would financially overburden the publisher.</p>
					</dd>
					<dt><var>eaa_exception_fundamental_modification</var></dt>
					<dd>
						<p>If true it indicates that the <i><a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-property">a11y:exemption</a>="<a href="https://www.w3.org/TR/epub-a11y-exemption/#exemption-values">eaa_fundamental_modification</a>"</i> (EAA exception 3 – Fundamental modification) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
						<p>This means that the digital product falls under European Accessibility Act exception for Fundamental modification (as defined by current regulations). The product may not have to comply with requirements of the EAA if doing so requires a fundamental modification of the nature of the product or service.</p>
					</dd>
				</dl>
				<h4>Variables setup</h4>
				<ol class="condition">
					<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
					<li><b>LET</b> <var>eaa_exemption_micro_enterprises</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="a11y:<i>exemption</i>" and text()="<i>eaa-microenterprise</i>"]</code>.</li>
					<li><b>LET</b> <var>eaa_exception_disproportionate_burden</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="a11y:<i>exemption</i>" and text()="<i>eaa-disproportionate-burden</i>"]</code>.</li>
					<li><b>LET</b> <var>eaa_exception_fundamental_modification</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="a11y:<i>exemption</i>" and text()="<i>eaa-fundamental-alteration</i>"]</code>.</li>
				</ol>
				<h4>Instructions</h4>
				<ol class="condition">
					<li>
						<span><b>IF</b> <var>eaa_exemption_micro_enterprises</var> <b>OR</b> <var>eaa_exception_disproportionate_burden</var> <b>OR</b> <var>eaa_exception_fundamental_modification</var>:</span>
						<span><b>THEN</b> display <code id="tbd">"TBD"</code>.</span>
					</li>
					<li>
						<b>ELSE</b> display <code id="legal-considerations-no-metadata">"No legal considerations"</code>.
						<p class="note">This key information can be hidden if metadata is missing.</p>
					</li>
				</ol>
			</section>
            
            
			<section id="additional-accessibility-information">
				<h3>Additional accessibility information</h3>
				<p>This technique relates to <a href="https://www.w3.org/2021/09/UX-Guide-metadata-2.0/principles/#additional-accessibility-information">Additional accessibility information key information</a>.</p>

				<p>This algorithm takes the <var>package_document_as_text</var> argument: a UTF-8 string representing the Package document.</p>

                <section id="additional-accessibility-information-adaptation">
					<h3>Adaptation</h3>
	
					<h5>Understanding the variables</h5>
					<dl>
						<dt><var>audio_descriptions</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="audioDescriptions"</i> (Audio Descriptions) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that there is an audio descriptions track available for video content.</p>
						</dd>
						<dt><var>closed_captions</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="closedCaptions"</i> (Closed captions) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that the audio content of a video can be seen via closed captions that can be turned on or off  by the viewer and which will be a separate file from the video itself.</p>
						</dd>
						<dt><var>open_captions</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="openCaptions"</i> (Open captions) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that the audio content of a video can be seen via open captions, which means they cannot be turned off and are always visible when the video plays.</p>
						</dd>
						<dt><var>transcript</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="transcript"</i> (transcript) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that a transcript of the audio content of the product is supplied with it.</p>
						</dd>
						<dt><var>sign_language</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="signLanguage"</i> (Sign language interpretation) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that a full signing of audio content of the product is supplied with the video file.</p>
						</dd>
					</dl>
					
					<h5>Variables setup</h5>
					<ol class="condition">
                        <li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
						<li><b>LET</b> <var>audio_descriptions</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>audioDescription</i>"]</code>.</li>
						<li><b>LET</b> <var>closed_captions</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>closedCaptions</i>"]</code>.</li>
                        <li><b>LET</b> <var>open_captions</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>openCaptions</i>"]</code>.</li>
                        <li><b>LET</b> <var>transcript</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>transcript</i>"]</code>.</li>
                        <li><b>LET</b> <var>sign_language</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>signLanguage</i>"]</code>.</li>
    				</ol>
					
					<h5>Instructions</h5>
					<ol class="condition">
						<li><b>LET</b> <var>adaptation</var> be  an empty array.</li>
						<li>
							<span><b>IF</b> <var>audio_descriptions</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-adaptation-audio-descriptions">"audio descriptions"</code> to <var>adaptation</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>closed_captions</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-adaptation-closed-captions">"closed captions"</code> to <var>adaptation</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>open_captions</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-adaptation-open-captions">"open captions"</code> to <var>adaptation</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>transcript</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-adaptation-transcript">"transcript"</code> to <var>adaptation</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>sign_language</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-adaptation-sign-language">"sign language"</code> to <var>adaptation</var>.</span>
						</li>
						<li><b>IF</b> <var>adaptation</var> is <b>NOT</b> empty:
							<ol class="condition">
								<li><b>LET</b> <var>adaptation_string</var> be the result of:
									<ul class="condition">
										<li>calling join on <var>adaptation</var> with the separator <code>", "</code></li>
										<li>making uppercase the first character</li>
										<li>replacing the last occurrence of <code>", "</code> with <code id="join-array-and">" ,and "</code>.</li>
									</ul>
								</li>
								<li>display <var>adaptation_string</var>.</li>
							</ol>
						</li>
					</ol>
				</section>
				
				<section id="additional-accessibility-information-clarity">
					<h3>Clarity</h3>
	
					<h5>Understanding the variables</h5>
					<dl>
						<dt><var>text_to_speech_hinting</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="ttsMarkup"</i>  (Text-to-speech markup provided) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that text-to-speech has been optimised through provision of PLS lexicons, SSML or CSS Speech synthesis hints or other speech synthesis markup languages or hinting.</p>
						</dd>
						<dt><var>high_contrast_between_foreground_and_background_audio</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="highContrastAudio"</i> (Use of high contrast between foreground and background audio) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that foreground audio content (eg voice) is presented with no or low background noise (eg ambient sounds, music), at least 20dB below the level of the foreground, or background noise can be switched off (eg via an alternative audio track). Brief and occasional sound effects may be as loud as foreground voice so long as they are isolated from the foreground.</p>
						</dd>  
                        <dt><var>high_contrast_between_text_and_background</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="highContrastDisplay"</i> (Use of high contrast between text and background color) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that body text is presented with a contrast ratio of at least 4.5:1 (or 3:1 for large/heading text).</p>
						</dd>                  
						<dt><var>large_print</var></dt>
						<dd>
							<p>If true it indicates that the <i>accessibilityFeature="largePrint"</i> (Large Print) is present in the OPF file, otherwise if false it means that the metadata is not present.</p>
							<p>This means that the e-publication has been formatted to meet large print guidelines.</p>
						</dd>
					</dl>
					
					<h5>Variables setup</h5>
					<ol class="condition">
						<li><b>LET</b> <var>package_document</var> be the result of calling <a href="#pre-processing">pre processing</a> given <var>package_document_as_text</var>.</li>
						<li><b>LET</b> <var>text_to_speech_hinting</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>ttsMarkup</i>"]</code>.</li>
    				    <li><b>LET</b> <var>high_contrast_between_foreground_and_background_audio</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>highContrastAudio</i>"]</code>.</li>
    				    <li><b>LET</b> <var>high_contrast_between_text_and_background</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>highContrastDisplay</i>"]</code>.</li>
                        <li><b>LET</b> <var>large_print</var> be the result of calling <a href="#check-for-node">check for node</a> on <var>package_document</var>, <code class="xpath">/package/metadata/meta[@property="schema:<i>accessibilityFeature</i>" and text()="<i>largePrint</i>"]</code>.</li>
                    </ol>
					
					<h5>Instructions</h5>
					<ol class="condition">
						<li><b>LET</b> <var>clarity</var> be  an empty array.</li>
						<li>
							<span><b>IF</b> <var>text_to_speech_hinting</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-clarity-text-to-speech-hinting">"text-to-speech hinting provided"</code> to <var>clarity</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>high_contrast_between_foreground_and_background_audio</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-clarity-high-contrast-between-foreground-and-background-audio">"high contrast between foreground and background audio"</code> to <var>clarity</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>high_contrast_between_text_and_background</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-clarity-high-contrast-between-text-and-background">"high contrast between text and background"</code> to <var>clarity</var>.</span>
						</li>
						<li>
							<span><b>IF</b> <var>large_print</var>:</span>
							<span><b>THEN</b> <b>APPEND</b> <code id="additional-accessibility-information-clarity-large-print">"large print "</code> to <var>clarity</var>.</span>
						</li>

                        
                        <li><b>IF</b> <var>clarity</var> is <b>NOT</b> empty:
							<ol class="condition">
								<li><b>LET</b> <var>clarity_string</var> be the result of:
									<ul class="condition">
										<li>calling join on <var>clarity</var> with the separator <code>", "</code></li>
										<li>making uppercase the first character</li>
										<li>replacing the last occurrence of <code>", "</code> with <code id="join-array-and">" ,and "</code>.</li>
									</ul>
								</li>
								<li>display <var>clarity_string</var>.</li>
							</ol>
						</li>
					</ol>
				</section>
                
                
			</section>
			
		</section>

        <section id="app-acknowledgements" class="appendix informative">
			<h2 id="acknowledgements">Acknowledgements</h2>
			<section id="contributors">
				<h3>Contributors</h3>
				<ul>
					<li>Avneesh Singh</li>
                    <li>Charles LaPierre</li>
					<li>Dave Cramer</li>
                    <li>George Kerscher</li>
                    <li>Gregorio Pellegrino</li>
					<li>Jason White</li>
					<li>Madeleine Rothberg</li>
                    <li>Matt Garrish</li>
					<li>Rachel Comerford</li>
					<li>Rick Johnson</li>
				</ul>
			</section>
			<section id="reviewers">
				<h3>Reviewers</h3>
				<ul>
					<li>Erin Kirchner-Lucas</li>
					<li>Luc Audrain</li>
				</ul>
			</section>
		</section>
	</body>
</html>
